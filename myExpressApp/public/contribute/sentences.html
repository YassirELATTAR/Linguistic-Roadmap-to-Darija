<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/bootstrap.min.css">
  <link rel="stylesheet" href="/mycss.css">
  <title>Contribute to Sentences</title>
  <style>

  </style>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-light justify-content-center custom-padding">
    <a class="navbar-brand" href="../index.html"><img src="../img/logo.png" alt="Home" height="30"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="vocabularyDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            Vocabulary
          </a>
          <div class="dropdown-menu" aria-labelledby="vocabularyDropdown">
            <a class="dropdown-item" href="/vocabulary/animals">Animals</a>
            <a class="dropdown-item" href="/vocabulary/art">Art</a>
            <a class="dropdown-item" href="/vocabulary/clothes">Clothes</a>
            <a class="dropdown-item" href="/vocabulary/colors">Colors</a>
            <a class="dropdown-item" href="/vocabulary/economy">Economy</a>
            <a class="dropdown-item" href="/vocabulary/education">Education</a>
            <a class="dropdown-item" href="/vocabulary/emotions">Emotions</a>
            <a class="dropdown-item" href="/vocabulary/environment">Environment</a>
            <a class="dropdown-item" href="/vocabulary/family">Family</a>
            <a class="dropdown-item" href="/vocabulary/femalenames">Female Names</a>
            <a class="dropdown-item" href="/vocabulary/food">Food</a>
            <a class="dropdown-item" href="/vocabulary/health">Health</a>
            <a class="dropdown-item" href="/vocabulary/humanbody">Human Body</a>
            <a class="dropdown-item" href="/vocabulary/malenames">Male Names</a>
            <a class="dropdown-item" href="/vocabulary/numbers">Numbers</a>
            <a class="dropdown-item" href="/vocabulary/places">Places</a>
            <a class="dropdown-item" href="/vocabulary/plants">Plants</a>
            <a class="dropdown-item" href="/vocabulary/professions">Professions</a>
            <a class="dropdown-item" href="/vocabulary/religion">Religion</a>
            <a class="dropdown-item" href="/vocabulary/sports">Sports</a>
            <a class="dropdown-item" href="/vocabulary/time">Time</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="grammarDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            Grammar
          </a>
          <div class="dropdown-menu" aria-labelledby="grammarDropdown">
            <a class="dropdown-item" href="/grammar/definite_indefinite">Definite Indefinite</a>
            <a class="dropdown-item" href="/grammar/adjectives">Adjectives</a>
            <a class="dropdown-item" href="/grammar/adverbs">Adverbs</a>
            <a class="dropdown-item" href="/grammar/conjug_past">Conjugation Past</a>
            <a class="dropdown-item" href="/grammar/conjug_present">Conjugation Present</a>
            <a class="dropdown-item" href="/grammar/imperatives">Imperatives</a>
            <a class="dropdown-item" href="/grammar/masculin_feminine_plural">Masculin-Feminine-Plural</a>
            <a class="dropdown-item" href="/grammar/nouns">Nouns</a>
            <a class="dropdown-item" href="/grammar/prepositions">Prepositions</a>
            <a class="dropdown-item" href="/grammar/pronouns">Pronouns</a>
            <a class="dropdown-item" href="/grammar/verb-to-noun">Verb to Noun</a>
            <a class="dropdown-item" href="/grammar/verbs">Verbs</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/vocabulary/sentences">Sentences</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" id="contributeDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            Contribute
          </a>
          <div class="dropdown-menu" aria-labelledby="contributeDropdown">
            <a class="dropdown-item" href="/contribute/vocabulary">To Vocabulary</a>
            <a class="dropdown-item" href="/contribute/grammar">To Grammar</a>
            <a class="dropdown-item" href="/contribute/sentences">To Sentences</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../index.html#searchForm">Search</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-6">
        <h2>Contributing to the Senetences of Darija</h2>
        <h5>Description of the <b>Sentences</b> Dataset</h5>
        <br>
        <p>This collection contains a large number sentences that are written in three forms:</p>
        <ul>
          <strong>
            <li>Darija in Latin Alphabets</li>
            <li>Darija in Arabic Alphabets</li>
            <li>English translation</li>
          </strong>
        </ul>
        <p>
          This is useful to retrieve examples of the words and to have an insight on how the sentences are formed and
          words used in Darija. The examples are of various situations and contexts and it is still growing. On the
          official website of <strong><a href="https://darija-open-dataset.github.io" >DODa (Darija Open Dataset)</a></strong>, they still offer a good platform to contribute to the dataset through translating
          various Darija sentences. However, the main objective for this one is to simply add an already-made XML file
          with the structure below to add to the dataset.
        </p>
      </div>
      <div class="col-md-6">
        <img src="../img/thank_you_card.png" alt="Description Image" class="img-fluid">
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-12">
        <h2>Instructions:</h2>
        <ul>
          <li>Please make sure your data is in an <strong>XML File</strong></li>
          <li>Follow the structure below and watch the error in case you get an alert!</li>
          <li>Each <strong style="background-color:#212529; padding-left: 10px;padding-right: 10px;"><span
                style="color: white;"> &lt;</span><span style="color: #5599d2;">entry</span><span
                style="color: white;">&gt;</span></strong> is a record (lemma)</li>
        </ul>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-12">
        <h4 style="padding-left: 50px;"><i>Example XML File:</i></h4>
        <div>
          <pre class="bg-dark text-light p-3">
          &lt;<span class="tag">corpus</span>&gt;<br>
            &lt;<span class="tag">entry</span>&gt;<br>
              &lt;<span class="tag">darija</span>&gt;<span class="text">DARIJA IN LATIN</span>&lt;/<span class="tag">darija</span>&gt;<br>
              &lt;<span class="tag rtl">darija_ar</span>&gt;<span class="text rtl">بالحروف العربية</span>&lt;/<span class="tag rtl">darija_ar</span>&gt;<br>
              &lt;<span class="tag">eng</span>&gt;<span class="text">ENGLISH TRANSLATION</span>&lt;/<span class="tag">eng</span>&gt;<br>
            &lt;/<span class="tag">entry</span>&gt;<br>
          &lt;/<span class="tag">corpus</span>&gt;
        </pre>
        </div>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-12">
        <h2>Upload and submit your file:</h2>
        <form id="contributeForm" enctype="multipart/form-data">
          <div class="container">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <p class="" name="sentences_label" id="sentences_label">
                    Please, make sure your XML file is the format above before you select it.
                  </p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-group">
                  <div class="custom-file">
                    <input type="file" class="custom-file-input" name="file" id="xmlFile">
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <button type="button" class="btn btn-primary btn-block" onclick="uploadFile()">Upload</button>
              </div>
              <div class="col-md-6">
                <button type="button" class="btn btn-success btn-block" onclick="submitForm()">Submit</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer class="footer py-4">
    <div class="container">
      <div class="row">
        <div class="col-xl-2 col-lg-3 col-md-6 col-sm-12 mb-4">
          <div class="footer-widget">
            <h6>Students:</h6>
            <ul class="list-unstyled">
              <li><a style="text-decoration: none; color: black;" target="_blank" href="https://yassirea.me">Yassir EL
                  ATTAR</a></li>
              <li>Shawn Chua</li>
            </ul>
          </div>
        </div>
        <div class="col-xl-2 col-lg-3 col-md-6 col-sm-12 mb-4">
          <div class="footer-widget">
            <h6>Professor:</h6>
            <ul class="list-unstyled">
              <li>Dr. Kerstin Jung</li>
            </ul>
          </div>
        </div>
        <div class="col-xl-2 col-lg-3 col-md-6 col-sm-12 mb-4">
          <div class="footer-widget">
            <h6>Degree:</h6>
            <ul class="list-unstyled">
              <li>Computational Linguistics</li>
            </ul>
          </div>
        </div>
        <div class="col-xl-2 col-lg-3 col-md-6 col-sm-12 mb-4">
          <div class="footer-widget">
            <h6>Course:</h6>
            <ul class="list-unstyled">
              <li>Text Technology</li>
            </ul>
          </div>
        </div>
        <div class="col-xl-2 col-lg-3 col-md-6 col-sm-12 mb-4">
          <div class="footer-widget">
            <h6>University:</h6>
            <ul class="list-unstyled">
              <li>Unitversität Stuttgart</li>
              <li>Summer 24</li>
            </ul>
          </div>
        </div>
        <div class="col-xl-2 col-lg-3 col-md-6 col-sm-12 mb-4 d-flex align-items-center">
          <div class="footer-widget">
            <img src="../img/logo2.png" height="60" alt="Logo" />
          </div>
        </div>
      </div>
    </div>
  </footer>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script>
    function uploadFile() {
      const fileInput = document.getElementById('xmlFile');

      if (!fileInput.files[0]) {
        alert('Please select an XML file first.');
        return;
      }

      const formData = new FormData();
      formData.append('file', fileInput.files[0]);

      fetch('/upload_sentences', {
        method: 'POST',
        body: formData
      })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            isValid = true;
            alert('File uploaded and validated successfully.');
          } else {
            isValid = false;
            alert('File validation failed: ' + data.message);
          }
        })
        .catch(error => {
          console.error('Error:', error);
          isValid = false;
          alert('An error occurred during the upload.');
        });
    }

    function submitForm() {
      if (!isValid) {
        alert('Please ensure the file is valid before submitting.');
        return;
      }

      const category = "sentences"

      fetch('/submit_sentences', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ category })
      })
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            alert(data.message);
            document.getElementById('contributeForm').reset();
            isValid = false;
          } else {
            alert('Submission failed: ' + data.message);
          }
        })
        .catch(error => {
          console.error('Error:', error);
          alert('An error occurred during the submission.');
        });
    }

    document.getElementById('xmlFile').addEventListener('change', function () {
      const fileName = this.files[0].name;
      const nextSibling = this.nextElementSibling;
      nextSibling.innerText = fileName;
    });
  </script>

</body>

</html>